import re
from datetime import date

def validate_pesel(pesel):
    pattern = r'^\d{11}$'
    if not re.match(pattern, pesel):
        return False

    year = int(pesel[0:2])
    month = int(pesel[2:4])
    day = int(pesel[4:6])

    if month > 80 and month < 93:
        year += 1800
        month -= 80
    elif month > 0 and month < 13:
        year += 1900
    elif month > 20 and month < 33:
        year += 2000
        month -= 20
    elif month > 40 and month < 53:
        year += 2100
        month -= 40
    elif month > 60 and month < 73:
        year += 2200
        month -= 60
    else:
        return False

    try:
        birth_date = date(year, month, day)
    except ValueError:
        return False

    gender = int(pesel[-2])
    if gender % 2 == 0:
        sex = 'kobieta'
    else:
        sex = 'mężczyzna'

    return birth_date, sex

pesel = input('Podaj numer PESEL: ')
result = validate_pesel(pesel)
if result:
    birth_date, sex = result
    print('Data urodzenia:', birth_date.strftime('%d.%m.%Y'))
    print('Płeć:', sex)
else:
    print('Błędny format numeru PESEL')
