import datetime

class Person:
    def __init__(self, imie, nazwisko, pesel):
        self.imie = imie
        self.nazwisko = nazwisko
        self.pesel = pesel

        self._parse_pesel()

    def _parse_pesel(self):
        rok = int(self.pesel[:2])
        miesiac = int(self.pesel[2:4])
        dzien = int(self.pesel[4:6])

        if miesiac > 12:
            rok += 2000
            miesiac -= 20
        else:
            rok += 1900

        self.data_urodzenia = datetime.date(rok, miesiac, dzien)

        cyfra_plec = int(self.pesel[-2])
        if cyfra_plec % 2 == 0:
            self.plec = 'Kobieta'
        else:
            self.plec = 'Mężczyzna'

    def oblicz_wiek(self, dzisiaj=None):
        if dzisiaj is None:
            dzisiaj = datetime.date.today()

        wiek = dzisiaj.year - self.data_urodzenia.year - ((dzisiaj.month, dzisiaj.day) < (self.data_urodzenia.month, self.data_urodzenia.day))

        return wiek

    def wyswietl_informacje(self):
        print(f"Imię: {self.imie}")
        print(f"Nazwisko: {self.nazwisko}")
        print(f"Pesel: {self.pesel}")
        print(f"Data urodzenia: {self.data_urodzenia.strftime('%Y-%m-%d')}")
        print(f"Płeć: {self.plec}")
        print(f"Wiek: {self.oblicz_wiek()}")
